{% extends "main/base.html" %}
{% load static %}

{% block title %}Choose Your Academy Plan - MAJD{% endblock %}

{% block content %}
<section class="hero-section text-center py-5 bg-light">
  <div class="container">
    <!-- Progress -->
    <div class="progress-dashes mb-4">
      <div class="progress-dash completed"></div> 
      <div class="progress-dash active"></div>    
      <div class="progress-dash"></div>           
    </div>

    <!-- Hero -->
    <h1 class="fw-bold mb-3" style="color:#155d4a;">Grow Your Academy, Inspire More Players.</h1>
    <p class="lead text-muted mx-auto" style="max-width:650px;">
      Join our platform to showcase your academy programs. Weâ€™ll help you reach parents, players,
      and communities by turning your offerings into beautiful, shareable academy cards.
    </p>
  </div>
</section>

<section class="pricing-section py-4 py-md-5">
  <div class="container">
    <form method="post">
      {% csrf_token %}
      <div class="row g-4 justify-content-center">

        {% for plan in plans %}
        <div class="col-md-6 col-lg-4">
          <div class="card-pricing h-100 d-flex flex-column {% if plan.is_featured %}featured{% endif %}">
            
            {% if plan.is_featured %}
            <div class="most-popular">Most Popular</div>
            {% endif %}

            <div class="plan-icon bg-soft-success">
              <i class="bi {{ plan.icon_class|default:'bi-star' }}"></i>
            </div>

            <h5 class="plan-title">{{ plan.name }}</h5>
            <p class="plan-subtitle">{{ plan.description }}</p>

            <div class="plan-price">
              <span class="currency">SAR</span>
              <span class="amount">{{ plan.monthly_price }}</span>
              <span class="per">/month</span>
            </div>

            <ul class="plan-features flex-grow-1">
              {% for feature in plan.features %}
                <li><i class="bi bi-check-circle text-success"></i> {{ feature }}</li>
              {% empty %}
                <li class="muted"><i class="bi bi-dash-circle"></i> No features listed</li>
              {% endfor %}
            </ul>

            <!-- Button pinned at bottom -->
            <div class="mt-auto">
              <button type="submit" name="plan_id" value="{{ plan.id }}" 
                      class="btn {% if plan.is_featured %}btn-success{% else %}btn-dark{% endif %} w-100">
                Get Started
              </button>
            </div>
          </div>
        </div>
        {% endfor %}

      </div>
    </form>
  </div>
</section>

<style>

.hero-section h1 { color: #155d4a; font-weight: 600; }


.pricing-section { background: #fafafa; }


.card-pricing {
  background: #fff;
  border: 1px solid #d8efe4;
  border-radius: 14px;
  padding: 24px;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  position: relative;
  transition: all .2s ease;
}
.card-pricing:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0,0,0,.08); }

.card-pricing .plan-icon {
  width: 44px; height: 44px;
  border-radius: 12px;
  display: grid; place-items: center;
  margin: 0 auto 10px;
  font-size: 1.2rem;
}
.bg-soft-success { background: #e9fbf3; color: #198754; }

.plan-title { text-align:center; font-weight: 600; color: #16a34a; margin-top: 8px; }
.plan-subtitle { text-align:center; color:#6c757d; font-size:.9rem; }

.plan-price { text-align:center; margin: 16px 0; }
.plan-price .currency { margin-right: 6px; font-weight:700; color:#0f5132; }
.plan-price .amount { font-size: 2rem; font-weight: 700; color:#0f5132; }
.plan-price .per { color:#6c757d; margin-left: 6px; }


.plan-features { list-style:none; padding:0; margin:0 0 20px; text-align:left; }
.plan-features li {
  display:flex; gap:8px; align-items:start;
  padding:4px 0; font-size:.9rem;
}
.plan-features li.muted { color: #98a2b3; }


.card-pricing.featured {
  border: 2px solid #22c55e;
  box-shadow: 0 10px 28px rgba(34,197,94,.25);
}
.card-pricing .most-popular {
  position:absolute; top:-12px; left:50%; transform:translateX(-50%);
  background:#0f5132; color:#fff; font-size:.75rem;
  padding:4px 10px; border-radius:999px;
}
</style>
{% endblock %}
